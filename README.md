## Проект Package service

Package service - API-сервис на базе Django rest framework для регистрации новых посылок, расчета их стоимости, получения данных о посылках.
Автор проекта: Ильдар Аюпов, 2024 г., e-mail: ildarbon@gmail.com, Telegramm: @ildarbonn

### Техническое описание проекта:

Основные библиотеки и технологии:
- Бэкенд: Python, Django, Django rest framework, DRF-spectacular, MySQL, RabbitMQ, Redis
- Деплой: Docker, NGINX, Gunicorn

Реализованы такие вещи, как:
- обработка АПИ запросов, валидация входящих данных, пагинация и возможность фильтрации информации о посылках
- перенаправление АПИ-сервисом данных о новой посылке в очередь сообщений RabbitMQ для их последующей обработки воркером, вычисления воркером стоимости доставки посылки с использованием информации об официальном текущем курсе доллара, получемой с сайта ЦБ РФ, и занесения новой записи о посылке в базу данных MySQL
- автоматическая генерация документации АПИ через DRF-spectacular
- отслеживание пользователей по сессии с привязкой сессии к посылкам, ограничение, тем самым, доступа пользователей к информации только об их посылках
- автоматическое воссоздание заранее внесенных необходимых для работы данных БД из дампа MySQL при развертывании сервиса
- логирование значимых событий
- кэширование ответов АПИ и официального курса доллара
- глубокая обработка возможных ошибок, обеспечение стабильности работы сервисов через механизм backoff
- контейнеризация сервисов в оркестре контейнеров, раздача через Nginx
- админ-панель Django для работы с моделями

### Развернуть проект на локальной машине:

- Установить Docker, Docker Compose:
```
sudo apt update
sudo apt install curl
curl -fSL https://get.docker.com -o get-docker.sh
sudo sh ./get-docker.sh
sudo apt-get install docker-compose-plugin
```

- Клонировать репозиторий:
```
git clone git@github.com:ildar-aiupov/packages.git
```

- Находясь в корневой папке проекта, запустить его сборку:
```
sudo docker compose up -d
```

- При сборке проекта для демонстрации его работы сразу автоматически создается база данных с выполненными миграциями Джанго, суперпользователем (логин admin, пароль admin) и тремя типами посылок: clothes, misc, electronics.

- Точки входа в проект:
```
Админ-панель: http://localhost/admin/
Подробное описание АПИ через SWAGGER UI: http://localhost/api/v1/schema/swagger/
Эндпоинты: 
[POST] http://localhost/api/v1/packages/
[GET] http://localhost/api/v1/packages/
[GET] http://localhost/api/v1/packages/{id}/
[GET] http://localhost/api/v1/packages/types/

```

- Для остановки контейнеров Docker:
```
sudo docker compose down -v      # с их удалением (также удаляются все хранилища данных проекта)
sudo docker compose stop         # просто остановка без удаления
```
